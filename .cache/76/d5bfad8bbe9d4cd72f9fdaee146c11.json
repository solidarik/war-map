{"id":"epB2","dependencies":[{"name":"D:\\GubaydullinII\\projects\\war-map\\package.json","includedInParent":true,"mtime":1549942037265},{"name":"./mapControl","loc":{"line":1,"column":25},"parent":"D:\\GubaydullinII\\projects\\war-map\\public-src\\main.js","resolved":"D:\\GubaydullinII\\projects\\war-map\\public-src\\mapControl.js"},{"name":"./clientProtocol","loc":{"line":2,"column":29},"parent":"D:\\GubaydullinII\\projects\\war-map\\public-src\\main.js","resolved":"D:\\GubaydullinII\\projects\\war-map\\public-src\\clientProtocol.js"},{"name":"./historyEventsControl","loc":{"line":3,"column":35},"parent":"D:\\GubaydullinII\\projects\\war-map\\public-src\\main.js","resolved":"D:\\GubaydullinII\\projects\\war-map\\public-src\\historyEventsControl.js"},{"name":"jquery","loc":{"line":4,"column":14},"parent":"D:\\GubaydullinII\\projects\\war-map\\public-src\\main.js","resolved":"D:\\GubaydullinII\\projects\\war-map\\node_modules\\jquery\\dist\\jquery.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.startApp=s;var e=require(\"./mapControl\"),t=require(\"./clientProtocol\"),i=require(\"./historyEventsControl\"),n=r(require(\"jquery\"));function r(e){return e&&e.__esModule?e:{default:e}}window.app={};var o=window.app;function a(){var e=(0,n.default)(window).height()-1,t=(0,n.default)(\"nav[data-role='navbar']:visible:visible\"),i=(0,n.default)(\"div[data-role='map']:visible:visible\");t.outerHeight()&&(e-=t.outerHeight()),i.height(e),window.map&&window.map.fixMapHeight()}function l(e){var t=(0,n.default)(\"#event-image-div\");if(e)return(0,n.default)(\"#event-image-div\")[0].innerHTML=\"\",void t.hide();350<(0,n.default)(window).width()?t.show():t.hide()}function u(){a(),l()}function s(){var r=t.ClientProtocol.create(),o=e.MapControl.create();o.subscribe(\"changeYear\",function(e){l(!0),r.getHistoryEventsByYear(e)});var a=i.HistoryEventsControl.create();r.subscribe(\"refreshHistoryEvents\",function(e){a.showEvents(e)}),a.subscribe(\"refreshedEventList\",function(){(0,n.default)(\"table tr\").click(function(){return a.rowEventClick((0,n.default)(this)),!1}),(0,n.default)(\"table tr td span\").click(function(){return a.mapEventClick((0,n.default)(this)),!1})}),a.subscribe(\"activatedEvent\",function(e){o.showEventOnMap(e.map),l()}),window.map=o,(0,n.default)(document.getElementsByClassName(\"ol-attribution ol-unselectable ol-control ol-collapsed\")).remove(),u()}window.onresize=u;","map":{"mappings":[{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":20}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":35}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":43}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":56}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":57}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":64}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":68}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":76}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":85}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":87}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":183}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":185}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":187}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":195}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":206}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":215}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":217}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":220}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":227}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":230}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":232}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":243}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":245}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":246}},{"source":"main.js","original":{"line":82,"column":1},"generated":{"line":1,"column":254}},{"source":"main.js","name":"window","original":{"line":6,"column":0},"generated":{"line":1,"column":257}},{"source":"main.js","name":"app","original":{"line":6,"column":7},"generated":{"line":1,"column":264}},{"source":"main.js","original":{"line":6,"column":13},"generated":{"line":1,"column":268}},{"source":"main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":271}},{"source":"main.js","name":"app","original":{"line":7,"column":4},"generated":{"line":1,"column":275}},{"source":"main.js","name":"window","original":{"line":7,"column":10},"generated":{"line":1,"column":277}},{"source":"main.js","name":"app","original":{"line":7,"column":17},"generated":{"line":1,"column":284}},{"source":"main.js","original":{"line":9,"column":0},"generated":{"line":1,"column":288}},{"source":"main.js","name":"fixMapHeight","original":{"line":9,"column":9},"generated":{"line":1,"column":297}},{"source":"main.js","name":"mapHeight","original":{"line":10,"column":8},"generated":{"line":1,"column":301}},{"source":"main.js","name":"mapHeight","original":{"line":10,"column":8},"generated":{"line":1,"column":305}},{"source":"main.js","original":{"line":10,"column":20},"generated":{"line":1,"column":308}},{"source":"main.js","name":"window","original":{"line":10,"column":22},"generated":{"line":1,"column":310}},{"source":"main.js","name":"window","original":{"line":10,"column":22},"generated":{"line":1,"column":312}},{"source":"main.js","name":"window","original":{"line":10,"column":22},"generated":{"line":1,"column":321}},{"source":"main.js","name":"height","original":{"line":10,"column":30},"generated":{"line":1,"column":329}},{"source":"main.js","original":{"line":10,"column":41},"generated":{"line":1,"column":338}},{"source":"main.js","name":"navbar","original":{"line":11,"column":8},"generated":{"line":1,"column":340}},{"source":"main.js","original":{"line":11,"column":17},"generated":{"line":1,"column":343}},{"source":"main.js","original":{"line":11,"column":19},"generated":{"line":1,"column":345}},{"source":"main.js","original":{"line":11,"column":19},"generated":{"line":1,"column":347}},{"source":"main.js","original":{"line":11,"column":19},"generated":{"line":1,"column":356}},{"source":"main.js","name":"mapDiv","original":{"line":12,"column":8},"generated":{"line":1,"column":399}},{"source":"main.js","original":{"line":12,"column":17},"generated":{"line":1,"column":402}},{"source":"main.js","original":{"line":12,"column":19},"generated":{"line":1,"column":404}},{"source":"main.js","original":{"line":12,"column":19},"generated":{"line":1,"column":406}},{"source":"main.js","original":{"line":12,"column":19},"generated":{"line":1,"column":415}},{"source":"main.js","name":"navbar","original":{"line":13,"column":8},"generated":{"line":1,"column":455}},{"source":"main.js","name":"outerHeight","original":{"line":13,"column":15},"generated":{"line":1,"column":457}},{"source":"main.js","name":"mapHeight","original":{"line":14,"column":8},"generated":{"line":1,"column":473}},{"source":"main.js","name":"navbar","original":{"line":14,"column":32},"generated":{"line":1,"column":476}},{"source":"main.js","name":"outerHeight","original":{"line":14,"column":39},"generated":{"line":1,"column":478}},{"source":"main.js","name":"mapDiv","original":{"line":16,"column":4},"generated":{"line":1,"column":493}},{"source":"main.js","name":"height","original":{"line":16,"column":11},"generated":{"line":1,"column":495}},{"source":"main.js","name":"mapHeight","original":{"line":16,"column":18},"generated":{"line":1,"column":502}},{"source":"main.js","name":"window","original":{"line":17,"column":8},"generated":{"line":1,"column":505}},{"source":"main.js","name":"map","original":{"line":17,"column":15},"generated":{"line":1,"column":512}},{"source":"main.js","name":"window","original":{"line":18,"column":8},"generated":{"line":1,"column":517}},{"source":"main.js","name":"map","original":{"line":18,"column":15},"generated":{"line":1,"column":524}},{"source":"main.js","name":"fixMapHeight","original":{"line":18,"column":19},"generated":{"line":1,"column":528}},{"source":"main.js","original":{"line":21,"column":0},"generated":{"line":1,"column":543}},{"source":"main.js","name":"fixMiniMapVisible","original":{"line":21,"column":9},"generated":{"line":1,"column":552}},{"source":"main.js","name":"isHide","original":{"line":21,"column":27},"generated":{"line":1,"column":554}},{"source":"main.js","name":"elem","original":{"line":23,"column":8},"generated":{"line":1,"column":557}},{"source":"main.js","name":"elem","original":{"line":23,"column":8},"generated":{"line":1,"column":561}},{"source":"main.js","original":{"line":23,"column":15},"generated":{"line":1,"column":564}},{"source":"main.js","original":{"line":23,"column":17},"generated":{"line":1,"column":566}},{"source":"main.js","original":{"line":23,"column":17},"generated":{"line":1,"column":568}},{"source":"main.js","original":{"line":23,"column":17},"generated":{"line":1,"column":577}},{"source":"main.js","name":"isHide","original":{"line":24,"column":8},"generated":{"line":1,"column":597}},{"source":"main.js","name":"isHide","original":{"line":24,"column":8},"generated":{"line":1,"column":600}},{"source":"main.js","original":{"line":27,"column":8},"generated":{"line":1,"column":602}},{"source":"main.js","original":{"line":25,"column":10},"generated":{"line":1,"column":609}},{"source":"main.js","original":{"line":25,"column":10},"generated":{"line":1,"column":611}},{"source":"main.js","original":{"line":25,"column":10},"generated":{"line":1,"column":613}},{"source":"main.js","original":{"line":25,"column":10},"generated":{"line":1,"column":622}},{"source":"main.js","original":{"line":25,"column":30},"generated":{"line":1,"column":642}},{"source":"main.js","name":"innerHTML","original":{"line":25,"column":33},"generated":{"line":1,"column":645}},{"source":"main.js","original":{"line":25,"column":45},"generated":{"line":1,"column":655}},{"source":"main.js","name":"elem","original":{"line":26,"column":8},"generated":{"line":1,"column":663}},{"source":"main.js","name":"hide","original":{"line":26,"column":13},"generated":{"line":1,"column":665}},{"source":"main.js","name":"viewWidth","original":{"line":31,"column":11},"generated":{"line":1,"column":672}},{"source":"main.js","original":{"line":30,"column":20},"generated":{"line":1,"column":677}},{"source":"main.js","name":"window","original":{"line":30,"column":22},"generated":{"line":1,"column":679}},{"source":"main.js","name":"window","original":{"line":30,"column":22},"generated":{"line":1,"column":681}},{"source":"main.js","name":"window","original":{"line":30,"column":22},"generated":{"line":1,"column":690}},{"source":"main.js","name":"width","original":{"line":30,"column":30},"generated":{"line":1,"column":698}},{"source":"main.js","name":"elem","original":{"line":31,"column":24},"generated":{"line":1,"column":706}},{"source":"main.js","name":"show","original":{"line":31,"column":29},"generated":{"line":1,"column":708}},{"source":"main.js","name":"elem","original":{"line":31,"column":38},"generated":{"line":1,"column":715}},{"source":"main.js","name":"hide","original":{"line":31,"column":43},"generated":{"line":1,"column":717}},{"source":"main.js","original":{"line":34,"column":0},"generated":{"line":1,"column":724}},{"source":"main.js","name":"changeWindowSize","original":{"line":34,"column":9},"generated":{"line":1,"column":733}},{"source":"main.js","name":"fixMapHeight","original":{"line":35,"column":4},"generated":{"line":1,"column":737}},{"source":"main.js","name":"fixMiniMapVisible","original":{"line":36,"column":4},"generated":{"line":1,"column":741}},{"source":"main.js","original":{"line":41,"column":0},"generated":{"line":1,"column":745}},{"source":"main.js","name":"startApp","original":{"line":41,"column":9},"generated":{"line":1,"column":754}},{"source":"main.js","name":"protocol","original":{"line":43,"column":8},"generated":{"line":1,"column":758}},{"source":"main.js","name":"protocol","original":{"line":43,"column":8},"generated":{"line":1,"column":762}},{"source":"main.js","name":"ClientProtocol","original":{"line":43,"column":19},"generated":{"line":1,"column":764}},{"source":"main.js","name":"create","original":{"line":43,"column":34},"generated":{"line":1,"column":766}},{"source":"main.js","name":"create","original":{"line":43,"column":34},"generated":{"line":1,"column":781}},{"source":"main.js","name":"mapControl","original":{"line":45,"column":8},"generated":{"line":1,"column":790}},{"source":"main.js","name":"MapControl","original":{"line":45,"column":21},"generated":{"line":1,"column":792}},{"source":"main.js","name":"create","original":{"line":45,"column":32},"generated":{"line":1,"column":794}},{"source":"main.js","name":"create","original":{"line":45,"column":32},"generated":{"line":1,"column":805}},{"source":"main.js","name":"mapControl","original":{"line":46,"column":4},"generated":{"line":1,"column":814}},{"source":"main.js","name":"subscribe","original":{"line":46,"column":15},"generated":{"line":1,"column":816}},{"source":"main.js","original":{"line":46,"column":25},"generated":{"line":1,"column":826}},{"source":"main.js","original":{"line":46,"column":39},"generated":{"line":1,"column":839}},{"source":"main.js","name":"year","original":{"line":46,"column":40},"generated":{"line":1,"column":848}},{"source":"main.js","name":"fixMiniMapVisible","original":{"line":47,"column":8},"generated":{"line":1,"column":851}},{"source":"main.js","original":{"line":47,"column":26},"generated":{"line":1,"column":854}},{"source":"main.js","name":"protocol","original":{"line":48,"column":8},"generated":{"line":1,"column":857}},{"source":"main.js","name":"getHistoryEventsByYear","original":{"line":48,"column":17},"generated":{"line":1,"column":859}},{"source":"main.js","name":"year","original":{"line":48,"column":40},"generated":{"line":1,"column":882}},{"source":"main.js","name":"historyEventsControl","original":{"line":51,"column":8},"generated":{"line":1,"column":887}},{"source":"main.js","name":"historyEventsControl","original":{"line":51,"column":8},"generated":{"line":1,"column":891}},{"source":"main.js","name":"HistoryEventsControl","original":{"line":51,"column":31},"generated":{"line":1,"column":893}},{"source":"main.js","name":"create","original":{"line":51,"column":52},"generated":{"line":1,"column":895}},{"source":"main.js","name":"create","original":{"line":51,"column":52},"generated":{"line":1,"column":916}},{"source":"main.js","name":"protocol","original":{"line":53,"column":4},"generated":{"line":1,"column":925}},{"source":"main.js","name":"subscribe","original":{"line":53,"column":13},"generated":{"line":1,"column":927}},{"source":"main.js","original":{"line":53,"column":23},"generated":{"line":1,"column":937}},{"source":"main.js","original":{"line":53,"column":47},"generated":{"line":1,"column":960}},{"source":"main.js","name":"events","original":{"line":53,"column":48},"generated":{"line":1,"column":969}},{"source":"main.js","name":"historyEventsControl","original":{"line":54,"column":8},"generated":{"line":1,"column":972}},{"source":"main.js","name":"showEvents","original":{"line":54,"column":29},"generated":{"line":1,"column":974}},{"source":"main.js","name":"events","original":{"line":54,"column":40},"generated":{"line":1,"column":985}},{"source":"main.js","name":"historyEventsControl","original":{"line":57,"column":4},"generated":{"line":1,"column":990}},{"source":"main.js","name":"subscribe","original":{"line":57,"column":25},"generated":{"line":1,"column":992}},{"source":"main.js","original":{"line":57,"column":35},"generated":{"line":1,"column":1002}},{"source":"main.js","original":{"line":57,"column":57},"generated":{"line":1,"column":1023}},{"source":"main.js","original":{"line":58,"column":10},"generated":{"line":1,"column":1035}},{"source":"main.js","original":{"line":58,"column":10},"generated":{"line":1,"column":1037}},{"source":"main.js","original":{"line":58,"column":10},"generated":{"line":1,"column":1039}},{"source":"main.js","original":{"line":58,"column":10},"generated":{"line":1,"column":1048}},{"source":"main.js","name":"click","original":{"line":58,"column":22},"generated":{"line":1,"column":1060}},{"source":"main.js","original":{"line":58,"column":28},"generated":{"line":1,"column":1066}},{"source":"main.js","original":{"line":60,"column":19},"generated":{"line":1,"column":1077}},{"source":"main.js","name":"historyEventsControl","original":{"line":59,"column":12},"generated":{"line":1,"column":1084}},{"source":"main.js","name":"rowEventClick","original":{"line":59,"column":33},"generated":{"line":1,"column":1086}},{"source":"main.js","original":{"line":59,"column":48},"generated":{"line":1,"column":1101}},{"source":"main.js","original":{"line":59,"column":50},"generated":{"line":1,"column":1103}},{"source":"main.js","original":{"line":59,"column":50},"generated":{"line":1,"column":1105}},{"source":"main.js","original":{"line":59,"column":50},"generated":{"line":1,"column":1114}},{"source":"main.js","original":{"line":60,"column":19},"generated":{"line":1,"column":1122}},{"source":"main.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1127}},{"source":"main.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1129}},{"source":"main.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1131}},{"source":"main.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1140}},{"source":"main.js","name":"click","original":{"line":63,"column":30},"generated":{"line":1,"column":1160}},{"source":"main.js","original":{"line":63,"column":36},"generated":{"line":1,"column":1166}},{"source":"main.js","original":{"line":65,"column":19},"generated":{"line":1,"column":1177}},{"source":"main.js","name":"historyEventsControl","original":{"line":64,"column":12},"generated":{"line":1,"column":1184}},{"source":"main.js","name":"mapEventClick","original":{"line":64,"column":33},"generated":{"line":1,"column":1186}},{"source":"main.js","original":{"line":64,"column":48},"generated":{"line":1,"column":1201}},{"source":"main.js","original":{"line":64,"column":50},"generated":{"line":1,"column":1203}},{"source":"main.js","original":{"line":64,"column":50},"generated":{"line":1,"column":1205}},{"source":"main.js","original":{"line":64,"column":50},"generated":{"line":1,"column":1214}},{"source":"main.js","original":{"line":65,"column":19},"generated":{"line":1,"column":1222}},{"source":"main.js","name":"historyEventsControl","original":{"line":69,"column":4},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"subscribe","original":{"line":69,"column":25},"generated":{"line":1,"column":1230}},{"source":"main.js","original":{"line":69,"column":35},"generated":{"line":1,"column":1240}},{"source":"main.js","original":{"line":69,"column":53},"generated":{"line":1,"column":1257}},{"source":"main.js","name":"data","original":{"line":69,"column":54},"generated":{"line":1,"column":1266}},{"source":"main.js","name":"mapControl","original":{"line":70,"column":8},"generated":{"line":1,"column":1269}},{"source":"main.js","name":"showEventOnMap","original":{"line":70,"column":19},"generated":{"line":1,"column":1271}},{"source":"main.js","name":"data","original":{"line":70,"column":34},"generated":{"line":1,"column":1286}},{"source":"main.js","name":"map","original":{"line":70,"column":39},"generated":{"line":1,"column":1288}},{"source":"main.js","name":"fixMiniMapVisible","original":{"line":71,"column":8},"generated":{"line":1,"column":1293}},{"source":"main.js","name":"window","original":{"line":74,"column":4},"generated":{"line":1,"column":1299}},{"source":"main.js","name":"map","original":{"line":74,"column":11},"generated":{"line":1,"column":1306}},{"source":"main.js","name":"mapControl","original":{"line":74,"column":17},"generated":{"line":1,"column":1310}},{"source":"main.js","name":"document","original":{"line":79,"column":6},"generated":{"line":1,"column":1313}},{"source":"main.js","name":"document","original":{"line":79,"column":6},"generated":{"line":1,"column":1315}},{"source":"main.js","name":"document","original":{"line":79,"column":6},"generated":{"line":1,"column":1317}},{"source":"main.js","name":"document","original":{"line":79,"column":6},"generated":{"line":1,"column":1326}},{"source":"main.js","name":"getElementsByClassName","original":{"line":79,"column":15},"generated":{"line":1,"column":1335}},{"source":"main.js","original":{"line":79,"column":38},"generated":{"line":1,"column":1358}},{"source":"main.js","name":"remove","original":{"line":79,"column":97},"generated":{"line":1,"column":1417}},{"source":"main.js","name":"changeWindowSize","original":{"line":81,"column":4},"generated":{"line":1,"column":1426}},{"source":"main.js","name":"window","original":{"line":39,"column":0},"generated":{"line":1,"column":1430}},{"source":"main.js","name":"onresize","original":{"line":39,"column":7},"generated":{"line":1,"column":1437}},{"source":"main.js","name":"changeWindowSize","original":{"line":39,"column":18},"generated":{"line":1,"column":1446}}],"sources":{"main.js":"import {MapControl} from './mapControl'\r\nimport {ClientProtocol} from './clientProtocol'\r\nimport {HistoryEventsControl} from './historyEventsControl'\r\nimport $ from 'jquery'\r\n\r\nwindow.app = {};\r\nvar app = window.app;\r\n\r\nfunction fixMapHeight(){\r\n    var mapHeight = $(window).height() - 1;\r\n    var navbar = $(\"nav[data-role='navbar']:visible:visible\");\r\n    var mapDiv = $(\"div[data-role='map']:visible:visible\");\r\n    if (navbar.outerHeight())\r\n        mapHeight = mapHeight - navbar.outerHeight();\r\n\r\n    mapDiv.height(mapHeight);\r\n    if (window.map)\r\n        window.map.fixMapHeight();\r\n}\r\n\r\nfunction fixMiniMapVisible(isHide) {\r\n\r\n    let elem = $('#event-image-div');\r\n    if (isHide) {\r\n        $('#event-image-div')[0].innerHTML = '';\r\n        elem.hide();\r\n        return;\r\n    }\r\n\r\n    var viewWidth = $(window).width();\r\n    (350 < viewWidth) ? elem.show() : elem.hide();\r\n}\r\n\r\nfunction changeWindowSize() {\r\n    fixMapHeight();\r\n    fixMiniMapVisible();\r\n}\r\n\r\nwindow.onresize = changeWindowSize;\r\n\r\nfunction startApp() {\r\n\r\n    let protocol = ClientProtocol.create();\r\n\r\n    let mapControl = MapControl.create();\r\n    mapControl.subscribe('changeYear', (year) => {\r\n        fixMiniMapVisible(true);\r\n        protocol.getHistoryEventsByYear(year);\r\n    });\r\n\r\n    let historyEventsControl = HistoryEventsControl.create();\r\n\r\n    protocol.subscribe('refreshHistoryEvents', (events) => {\r\n        historyEventsControl.showEvents(events);\r\n    });\r\n\r\n    historyEventsControl.subscribe('refreshedEventList', () => {\r\n        $('table tr').click(function(){\r\n            historyEventsControl.rowEventClick( $(this) );\r\n            return false;\r\n        });\r\n\r\n        $('table tr td span').click(function(){\r\n            historyEventsControl.mapEventClick( $(this) );\r\n            return false;\r\n        });\r\n    });\r\n\r\n    historyEventsControl.subscribe('activatedEvent', (data) => {\r\n        mapControl.showEventOnMap(data.map);\r\n        fixMiniMapVisible();\r\n    });\r\n\r\n    window.map = mapControl;\r\n\r\n    // var something = document.getElementById('content');\r\n    // something.style.cursor = 'pointer';\r\n\r\n    $(document.getElementsByClassName('ol-attribution ol-unselectable ol-control ol-collapsed')).remove();\r\n\r\n    changeWindowSize();\r\n}\r\n\r\nexport { startApp }"},"lineCount":null}},"hash":"7097c6c64d89df369d527c0e46b94b25","cacheData":{"env":{}}}